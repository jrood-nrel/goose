packages:
  gcc:
    variants: [~bootstrap ~profiled +strip]
  py-horovod:
    variants: tensor_ops=mpi frameworks=pytorch,tensorflow
  py-tensorflow:
    variants: +cuda+mpi+nccl
  py-torch:
    variants: +cuda+cudnn+nccl
  emacs:
    require: "+tls+native+treesitter+json"
  swig:
    require: "@4.0.2"
  perl:
    require: "@5.30.3"
  mpich:
    require: "@4.1.1"
  llvm:
    require: "+omp_debug+omp_tsan+python build_type=Release"
  texlive:
    variants: scheme=full
  vim:
    variants: +python+huge+cscope
  py-yt:
    variants: ~astropy
  mpi:
    require: "mpich"
  blas:
    require: "netlib-lapack"
  lapack:
    require: "netlib-lapack"
  all:
    compiler: [gcc@10.4.0, clang@16.0.2]
    variants: build_type=Release +mpi cuda_arch=80
    target: [zen2]
